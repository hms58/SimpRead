> 本文由 [简悦 SimpRead](http://ksria.com/simpread/) 转码， 原文地址 [zhuanlan.zhihu.com](https://zhuanlan.zhihu.com/p/669101741)

只有编程基础，但没有交易经验的新手村朋友，选择哪种策略能最快出成效？多因子策略流程长，细节多，基建工程大，对算力要求高，某一个环节没打通就会停滞不前，很容易放弃，所以并不适合作为起手策略。

要明确的一点是，并不是只有复杂的策略才能赚钱，简单但逻辑清晰、风控得当的策略依然可以在市场有一席之地。直接打 BOSS 会失去信心，不如从简单但反馈快的策略开始，一点点地完善交易体系。

_**1、规则类策略**_
-------------

没错，就是均线交叉、布林道上下轨突破、OBVM 一类的技术指标策略，这类策略的要点在于：对风险情况的过滤和仓位管理。但除此之外，还有一个经常被忽视的要点：波动率。

规则类策略捕捉的是趋势，**而只有在波动率上升的时候，趋势才会出现**。在震荡行情中用趋势策略，结果是来回止损。

所以你在启用趋势策略之前，首先要对波动率这个前置条件界定，当前的市场情况是处于低波动还是高波动？最简单的方式是用 ATR 计算，两行代码就可以实现：

```
# 计算atr真实波幅
atr = pd.Series(ta.ATR(high, low, close, 10))
# 计算滚动窗口中，当前atr所处的百分位
atr.rolling(10).rank()
```

另一种更细致的波动率计算方式，是计算时间段内每一个 tick 的收益率，比方说计算 10 分钟内每个 tick 的收益率：

```
# 计算10分钟内tick的收益
ret = np.log(tick_series).diff()
# 计算10分钟的波动率
realized_vol = np.sqrt(np.sum(ret**2))
```

如果当前的行情的波动率已经达到了 90% 分位以上，前面也已经走了一段趋势行情，那么后面更大概率会回归平静，切换到震荡行情。相反的，如果市场已经风平浪静很久了，但波动率的历史分位逐渐抬升，你可以提高对趋势行情的预期。

举个例子，去年底我在腾讯上做的这笔交易，当时计算的历史波动率分位已经到了 90% 以上，前面也走了很长一段时间的下跌趋势，再加上很多坏消息都落地了，可以合理对后市判断这一波下跌很可能走向尾声，最后决定用 sell put 的方式开了仓位。

![](https://pic1.zhimg.com/v2-ffdecbb641f8e365ebc89e33c5848be8_r.jpg)![](https://pic4.zhimg.com/v2-bbd9618151d1bb3c5547c5b5f87add1b_r.jpg)

历史波动率的重要性在 kaggle 的波动率预测竞赛上也得到了验证，在特征重要性排名上，前 4 位都是历史波动率 (realized volitility，也叫已实现波动率)：

![](https://pic1.zhimg.com/v2-9fff0e7e3f464d62675858f2f6732a18_r.jpg)

这个比赛还利用相似度高的时间序列和多品种来预测波动率，下面 是网址：

[https://www.kaggle.com/c/optiver-realized-volatility-prediction/discussion/274970](https://www.kaggle.com/c/optiver-realized-volatility-prediction/discussion/274970)

_**2、套利策略**_
------------

跨期套利、跨品种套利和配对策略都属于套利策略。先说最简单的配对策略 (pairs trading)，简单来说就是先找到价格相关的品种，然后发现它们价差的规律。

**配对的核心是品种间的价差会回归，是一种 mean reversion 策略**。最简单的配对策略由 2 个资产组成，当价差突破上下沿时，同时多空两种资产。

之前在这篇[基于 OU 过程的配对交易策略实现](http://mp.weixin.qq.com/s?__biz=Mzg5MzU2MTQ1Mw==&mid=2247484478&idx=1&sn=6a1f7a454df0f2a2f0417bc9c63063d0&chksm=c02dbb3cf75a322af605f15f1f94cf577aae53047dc6ce0a01794380d726db360dd924d5738b&scene=21#wechat_redirect)中，举了一个可口可乐和百事可乐的例子，当价差突破下轨时做多，当价差回到上轨时平仓。也可以在价差突破下轨时做多价差，突破上轨时做空价差。还可以设置一个中轨，当价差从上下轨回到中轨时平仓。随着轨道的增多，这就变成了一个近似网格交易的策略。

![](https://pic2.zhimg.com/v2-136d4df121f92e64c29a050eb4743687_r.jpg)

策略的核心是确定这个通道，这个通道定义了**价格波动的上下限**。如果你的通道宽度设置的太大，那么交易机会就会很少，如果设置的太小，盈利又覆盖不了滑点和手续费的成本。策略的风险情况是价差不回归，两个品种的价差越来越大，你的持仓亏损也越来越大。

通道过宽，交易次数太少的情况 (行情窄幅波动本身也不好做)：

![](https://pic2.zhimg.com/v2-965d23b589ae0b4806140b63bb09ec77_r.jpg)

再说一种 crypto 上的套利策略，这种套利策略的来源是不同交易所之间 crypto 的价格不一样，这种价格差异有很多原因，比如说流动性好坏 (相比于大交易所，小交易所成交量更少，价格更低)、没有固定中间价格参考 (不同于由国家央行公布汇率的法定货币，crypto 没有固定的中间价格)、价格由最新成交价产生等等。

比如 A 交易所 crypto 的价格是 $22,939，而在 B 交易所这个价格是 $ 21,240，从 B 交易所买入再到 A 交易所卖出，盈利覆盖掉交易成本和手续费后还有的赚，这就是一笔漂亮的套利交易。

最后，多品种的分散投资能显著提高收益风险比，请记住分散这门艺术：

> _Diversifying, cheap beta is worth just as much as equally diversifying, expensive alpha._  
> _分散的、便宜的的 beta，与同等分散的、昂贵的 alpha 一样有价值_